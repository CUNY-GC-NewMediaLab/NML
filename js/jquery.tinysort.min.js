/* TinySort
* Copyright (c) 2008-2013 Ron Valstar http://tinysort.sjeiti.com/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*/
(function(e,c){var i=!1,k=null,o=parseFloat,l=Math.min,m=/(-?\d+\.?\d*)$/g,h=/(\d+\.?\d*)$/g,j=[],g=[],b=function(p){return typeof p=="string"},f=function(t,s){var p=t.length,r=p,q;while(r--){q=p-r-1;s(t[q],q)}},n=Array.prototype.indexOf||function(r){var p=this.length,q=Number(arguments[1])||0;q=q<0?Math.ceil(q):Math.floor(q);if(q<0){q+=p}for(;q<p;q++){if(q in this&&this[q]===r){return q}}return -1};e.tinysort={id:"TinySort",version:"1.5.5",copyright:"Copyright (c) 2008-2013 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:(function(){var p=function(q,r){j.push(q);g.push(r)};p.indexOf=n;return p})(),defaults:{order:"asc",attr:k,data:k,useVal:i,place:"start",returns:i,cases:i,forceStrings:i,ignoreDashes:i,sortFunction:k}};e.fn.extend({tinysort:function(){var E,D,C,G=this,s=[],r=[],H=[],I=[],v=0,q,B=[],x=[],y=function(J){f(j,function(K){K.call(K,J)})},z=function(K,J){if(typeof J=="string"){if(!K.cases){J=a(J)}J=J.replace(/^\s*(.*?)\s*$/i,"$1")}return J},w=function(U,S){var J=0;if(v!==0){v=0}while(J===0&&v<q){var Q=I[v],N=Q.oSettings,R=N.ignoreDashes?h:m;y(N);if(N.sortFunction){J=N.sortFunction(U,S)}else{if(N.order=="rand"){J=Math.random()<0.5?1:-1}else{var T=i,M=z(N,U.s[v]),L=z(N,S.s[v]);if(!N.forceStrings){var K=b(M)?M&&M.match(R):i,V=b(L)?L&&L.match(R):i;if(K&&V){var P=M.substr(0,M.length-K[0].length),O=L.substr(0,L.length-V[0].length);if(P==O){T=!i;M=o(K[0]);L=o(V[0])}}}J=Q.iAsc*(M<L?-1:(M>L?1:0))}}f(g,function(W){J=W.call(W,T,M,L,J)});if(J===0){v++}}return J};for(E=0,C=arguments.length;E<C;E++){var A=arguments[E];if(b(A)){if(B.push(A)-1>x.length){x.length=B.length-1}}else{if(x.push(A)>B.length){B.length=x.length}}}if(B.length>x.length){x.length=B.length}q=B.length;if(q===0){q=B.length=1;x.push({})}for(E=0,C=q;E<C;E++){var F=B[E],t=e.extend({},e.tinysort.defaults,x[E]),u=!(!F||F===""),p=u&&F[0]===":";I.push({sFind:F,oSettings:t,bFind:u,bAttr:!(t.attr===k||t.attr===""),bData:t.data!==k,bFilter:p,$Filter:p?G.filter(F):G,fnSort:t.sortFunction,iAsc:t.order=="asc"?1:-1})}G.each(function(Q,J){var M=e(J),K=M.parent().get(0),L,P=[];for(D=0;D<q;D++){var R=I[D],N=R.bFind?(R.bFilter?R.$Filter.filter(J):M.find(R.sFind)):M;P.push(R.bData?N.data(R.oSettings.data):(R.bAttr?N.attr(R.oSettings.attr):(R.oSettings.useVal?N.val():N.text())));if(L===c){L=N}}var O=n.call(H,K);if(O<0){O=H.push(K)-1;r[O]={s:[],n:[]}}if(L.length>0){r[O].s.push({s:P,e:M,n:Q})}else{r[O].n.push({e:M,n:Q})}});f(r,function(J){J.s.sort(w)});f(r,function(K){var Q=K.s,J=K.n,S=Q.length,O=J.length,T=S+O,L=[],N=T,M=[0,0];switch(t.place){case"first":f(Q,function(V){N=l(N,V.n)});break;case"org":f(Q,function(V){L.push(V.n)});break;case"end":N=O;break;default:N=0}for(E=0;E<T;E++){var P=d(L,E)?!i:E>=N&&E<N+S,R=P?0:1,U=(P?Q:J)[M[R]].e;U.parent().append(U);if(P||!t.returns){s.push(U.get(0))}M[R]++}});G.length=0;Array.prototype.push.apply(G,s);return G}});function a(p){return p&&p.toLowerCase?p.toLowerCase():p}function d(q,s){for(var r=0,p=q.length;r<p;r++){if(q[r]==s){return !i}}return i}e.fn.TinySort=e.fn.Tinysort=e.fn.tsort=e.fn.tinysort})(jQuery);